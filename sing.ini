# ------------------------------------------------------------------
# é’ˆå¯¹ CF ä¼˜é€‰èŠ‚ç‚¹ (VLESS) çš„æ·±åº¦ä¼˜åŒ–é…ç½®
# é€‚åº”åç«¯: subconverter v0.9.9
# ------------------------------------------------------------------

# 1. åŸºç¡€æ€§èƒ½ä¼˜åŒ– (é’ˆå¯¹ CF èŠ‚ç‚¹æé€Ÿ)
port: 7890
socks-port: 7891
allow-lan: true
mode: Rule
log-level: info
ipv6: false
unified-delay: true        # æ˜¾ç¤ºåŒ…å«æ¡æ‰‹åœ¨å†…çš„çœŸå®å»¶è¿Ÿ
tcp-concurrent: true       # TCP å¹¶å‘è¿æ¥ï¼Œæå¤§æå‡ç½‘é¡µé¦–å¼€é€Ÿåº¦
global-client-fingerprint: chrome # ä¼ªè£…æµè§ˆå™¨æŒ‡çº¹ï¼Œå‡å°‘è¢« CF æ‹¦æˆª

# 2. DNS ä¼˜åŒ– (ç¡®ä¿è§£æåˆ°æœ€ä½³è¾¹ç¼˜ IP)
dns:
  enable: true
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  listen: 0.0.0.0:53
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
  proxy-server-nameserver:
    - 223.5.5.5
    - 119.29.29.29

# 3. è¿œç¨‹è§„åˆ™é›† (æŒ‚è½½ä½ çš„ GitHub List)
rule-providers:
  pb:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/tdsq369/clashgz/refs/heads/main/pb.list"
    path: ./ruleset/pb.yaml
    interval: 86400
  zl:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/tdsq369/clashgz/refs/heads/main/zl.list"
    path: ./ruleset/zl.yaml
    interval: 86400
  dl:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/tdsq369/clashgz/refs/heads/main/dl.list"
    path: ./ruleset/dl.yaml
    interval: 86400

# 4. èŠ‚ç‚¹åˆ—è¡¨ (æ­¤å¤„å ä½ï¼Œsubconverter ä¼šè‡ªåŠ¨å¡«å…¥ä½ çš„èŠ‚ç‚¹)
proxies: []

# 5. ç­–ç•¥ç»„è®¾è®¡ (é’ˆå¯¹æ–°åŠ å¡/ä¸œäº¬ CF èŠ‚ç‚¹è‡ªåŠ¨åŒ–)
proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”® è´Ÿè½½å‡è¡¡
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - DIRECT
    # è¿™ä¸€è¡Œä¼šè®©åç«¯è‡ªåŠ¨æŠŠæ‰€æœ‰èŠ‚ç‚¹å¡«è¿›æ¥ï¼Œæ— éœ€æ‰‹åŠ¨å†™åå­—
    # å¦‚æœä½ åªæƒ³åŒ…å«ç‰¹å®šèŠ‚ç‚¹ï¼Œå¯ä»¥åŠ  filter å‚æ•°

  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: https://zl.369529.xyz/204
    interval: 300
    tolerance: 50
    include-all: true # è‡ªåŠ¨åŒ…å«æ‰€æœ‰ VLESS èŠ‚ç‚¹

  - name: ğŸ”® è´Ÿè½½å‡è¡¡
    type: load-balance
    strategy: consistent-hashing
    url: https://zl.369529.xyz/204
    interval: 600
    include-all: true

  - name: ğŸ”¯ æ•…éšœè½¬ç§»
    type: fallback
    url: https://zl.369529.xyz/204
    interval: 600
    include-all: true

  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©

  - name: ğŸ›‘ å…¨çƒæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT

# 6. åˆ†æµè§„åˆ™ (ä¸¥æ ¼éµå¾ªä¼˜å…ˆçº§)
rules:
  # 1. å±è”½åˆ—è¡¨
  - RULE-SET,pb,ğŸ›‘ å…¨çƒæ‹¦æˆª
  
  # 2. è‡ªå®šä¹‰åŸŸåç›´è¿ (ä½ æåˆ°çš„éœ€æ±‚)
  - DOMAIN-SUFFIX,jxemall.com,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN-SUFFIX,bambulab.com,ğŸ¯ å…¨çƒç›´è¿
  
  # 3. ä½ çš„ GitHub ç›´è¿/ä»£ç†è§„åˆ™
  - RULE-SET,zl,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,dl,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  
  # 4. åŸºç¡€åˆ†æµ
  - GEOSITE,cn,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  
  # 5. æ¼ç½‘ä¹‹é±¼
  - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
